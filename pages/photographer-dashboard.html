<!DOCTYPE html photographer-dashboard.html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SnapSelect - Photographer Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../assets/css/variables.css">
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/dashboard.css">
    <link rel="stylesheet" href="../assets/css/responsive.css">
    <link rel="stylesheet" href="../assets/css/user-menu.css">
    <link rel="stylesheet" href="../assets/css/animations.css">
    <link rel="stylesheet" href="../assets/css/features.css">
    <link rel="stylesheet" href="../assets/css/payment.css">

    <!-- Add Chart.js for analytics charts -->
    <!-- Not needed for basic Razorpay mock implementation -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script> -->
    
    <!-- Add jsPDF for PDF exports -->
    <!-- Not needed for basic Razorpay mock implementation -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script> -->
    
    <!-- Load Razorpay checkout script and our integration -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    <script src="../assets/js/razorpay-mock.js"></script> <!-- Changed to our mock implementation -->
</head>
<body>
    <!-- Authentication Check Overlay (shown if not authenticated) -->
    <div id="authCheckOverlay" class="auth-check-overlay">
        <div class="auth-check-content">
            <i class="fas fa-lock auth-icon"></i>
            <h2>Authentication Required</h2>
            <p>Please log in to access your dashboard.</p>
            <a href="studiopanel-login.html" class="btn">Log In</a>
        </div>
    </div>

    <!-- Navigation Header (Same as index but with active state for dashboard) -->
    <header>
        <div class="container">
            <nav>
                <a href="../index.html" class="logo">
                    <img src="../assets/images/snapselect-logo.png" alt="SnapSelect" class="logo-image">
                </a>
                <ul class="nav-links">
                    <li><a href="../index.html#features">Features</a></li>
                    <li><a href="../index.html#how-it-works">How It Works</a></li>
                    <li><a href="../index.html#pricing">Pricing</a></li>
                </ul>
                <div class="right-nav">
                    <!-- User logged in - show user menu with logout -->
                    <div class="notification-bell">
                        <button class="notification-btn" id="notificationBtn">
                            <i class="fas fa-bell"></i>
                            <span class="notification-badge" id="notificationCount">0</span>
                        </button>
                        <div class="notification-dropdown" id="notificationDropdown">
                            <div class="notification-header">
                                <h3>Notifications</h3>
                                <button id="markAllReadBtn" class="mark-read-btn">Mark all read</button>
                            </div>
                            <div class="notification-list" id="notificationList">
                                <!-- Notifications will be populated dynamically -->
                                <div class="empty-notification">No new notifications</div>
                            </div>
                        </div>
                    </div>

                    <div class="auth-user" id="userNav">
                        <div class="user-menu">
                            <button class="user-menu-btn" id="userMenuBtn">
                                <img src="../assets/images/placeholder-avatar.jpg" id="userAvatar" class="user-avatar" alt="User">
                                <span class="user-name" id="userName">User</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>

                            <div class="user-dropdown" id="userDropdown">
                                <a href="photographer-dashboard.html" class="active">Dashboard</a>
                                <a href="analytics-dashboard.html">Analytics</a>
                                <a href="account-settings.html">Account Settings</a>
                                <a href="#" id="logoutBtn">Logout</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="hamburger">
                    <i class="fas fa-bars"></i>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Dashboard Content -->
    <main class="dashboard-main">
        <div class="container">
            <!-- Dashboard Header with Stats Overview -->
            <section class="dashboard-header">
                <div class="dashboard-title">
                    <h1>Photographer Dashboard</h1>
                    <p>Manage your client galleries and selections</p>
                </div>
                <div class="dashboard-stats">
                    <div class="stat-card animate-in">
                        <div class="stat-icon">
                            <i class="fas fa-images"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="activeGalleriesCount">0</span>
                            <span class="stat-label">Active Galleries</span>
                        </div>
                    </div>
                    <div class="stat-card animate-in" style="animation-delay: 0.1s;">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="pendingSelectionsCount">0</span>
                            <span class="stat-label">Pending Selections</span>
                        </div>
                    </div>
                    <div class="stat-card animate-in" style="animation-delay: 0.2s;">
                        <div class="stat-icon">
                            <i class="fas fa-database"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-value" id="storageUsed">0 MB</span>
                            <span class="stat-label">Storage Used</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Plan Information Section -->
            <section class="plan-info animate-in" style="animation-delay: 0.25s;">
                <div class="plan-card">
                    <div class="plan-header">
                        <h3>Current Plan: <span id="currentPlanName">Free</span></h3>
                        <span class="plan-badge" id="planBadge">Free</span>
                    </div>
                    <div class="plan-details">
                        <div class="plan-usage">
                            <div class="usage-item">
                                <span class="usage-label">Storage:</span>
                                <div class="usage-bar">
                                    <div class="usage-progress" id="storageUsageBar" style="width: 0%"></div>
                                </div>
                                <span class="usage-text" id="storageUsageText">0/1 GB</span>
                            </div>
                            <div class="usage-item">
                                <span class="usage-label">Galleries:</span>
                                <div class="usage-bar">
                                    <div class="usage-progress" id="galleryUsageBar" style="width: 0%"></div>
                                </div>
                                <span class="usage-text" id="galleryUsageText">0/3</span>
                            </div>
                        </div>
                        <button id="upgradePlanBtn" class="btn upgrade-btn">Upgrade Plan</button>
                    </div>
                </div>
            </section>

            <!-- Quick Actions Bar -->
            <section class="quick-actions animate-in" style="animation-delay: 0.3s;">
                <button id="createGalleryBtn" class="action-btn primary">
                    <i class="fas fa-plus"></i> New Gallery
                </button>
                <button id="viewSelectionsBtn" class="action-btn">
                    <i class="fas fa-check"></i> View Selections
                </button>
                <button id="downloadSelectedBtn" class="action-btn">
                    <i class="fas fa-download"></i> Download Selected
                </button>
                <button id="viewAnalyticsBtn" class="action-btn">
                    <i class="fas fa-chart-bar"></i> Analytics
                </button>
                <button id="helpBtn" class="action-btn help">
                    <i class="fas fa-question-circle"></i> Help
                </button>
            </section>

            <!-- Gallery Management Section -->
            <!-- Only needed for UI, not for Razorpay testing, but we'll keep it for context -->
            <section class="galleries-section animate-in" style="animation-delay: 0.4s;">
                <div class="section-header">
                    <h2>Client Galleries</h2>
                    <div class="view-controls">
                        <button class="view-btn active" data-view="grid">
                            <i class="fas fa-th"></i>
                        </button>
                        <button class="view-btn" data-view="list">
                            <i class="fas fa-list"></i>
                        </button>
                        <div class="search-container">
                            <input type="text" id="gallerySearch" placeholder="Search galleries..." class="search-input">
                            <i class="fas fa-search search-icon"></i>
                        </div>
                    </div>
                </div>

                <!-- Empty State (shown when no galleries exist) -->
                <div id="emptyGalleryState" class="empty-state">
                    <img src="../assets/images/empty-gallery.svg" alt="No galleries" class="empty-icon">
                    <h3>No Galleries Yet</h3>
                    <p>Create your first client gallery to get started</p>
                    <button class="btn" id="emptyStateCreateBtn">Create Gallery</button>
                </div>

                <!-- Gallery Grid View (default) -->
                <div id="galleryGrid" class="gallery-grid">
                    <!-- Gallery cards will be populated dynamically -->
                    <!-- Example Gallery Card (will be generated via JS) -->
                    <div class="gallery-card sample-card">
                        <div class="gallery-thumbnail">
                            <img src="../assets/images/gallery-placeholder.jpg" alt="Gallery thumbnail">
                            <div class="gallery-status pending">Selection in Progress</div>
                        </div>
                        <div class="gallery-info">
                            <h3 class="gallery-title">Johnson Wedding</h3>
                            <div class="gallery-meta">
                                <span><i class="fas fa-calendar"></i> Apr 18, 2025</span>
                                <span><i class="fas fa-image"></i> 248 photos</span>
                            </div>
                            <div class="selection-progress">
                                <div class="progress-label">
                                    <span>Client Selection: 24/50</span>
                                    <span>48%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress" style="width: 48%"></div>
                                </div>
                            </div>
                            <div class="gallery-actions">
                                <button class="action-icon" title="View Gallery">
                                    <i class="fas fa-eye"></i>
                                </button>
                                <button class="action-icon" title="Share with Client">
                                    <i class="fas fa-share-alt"></i>
                                </button>
                                <button class="action-icon" title="Download Selections">
                                    <i class="fas fa-download"></i>
                                </button>
                                <button class="action-icon" title="Delete Gallery">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Gallery List View (hidden by default) -->
                <div id="galleryList" class="gallery-list" style="display: none;">
                    <table class="gallery-table">
                        <thead>
                            <tr>
                                <th>Gallery Name</th>
                                <th>Created</th>
                                <th>Status</th>
                                <th>Photos</th>
                                <th>Selected</th>
                                <th>Expires</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="galleryTableBody">
                            <!-- Gallery rows will be populated dynamically -->
                            <!-- Example row (will be generated via JS) -->
                            <tr class="sample-row">
                                <td class="gallery-name">Johnson Wedding</td>
                                <td>Apr 18, 2025</td>
                                <td><span class="status-badge pending">Selection in Progress</span></td>
                                <td>248</td>
                                <td>24/50</td>
                                <td>May 18, 2025</td>
                                <td class="table-actions">
                                    <button class="action-icon" title="View Gallery">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                    <button class="action-icon" title="Share with Client">
                                        <i class="fas fa-share-alt"></i>
                                    </button>
                                    <button class="action-icon" title="Download Selections">
                                        <i class="fas fa-download"></i>
                                    </button>
                                    <button class="action-icon" title="Delete Gallery">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Create Gallery Modal -->
            <!-- Not needed for Razorpay testing, commenting out -->
            <!-- 
            <div id="createGalleryModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Create New Gallery</h2>
                        <button class="close-modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <form id="createGalleryForm">
                            <div class="form-group">
                                <label for="galleryName">Gallery Name*</label>
                                <input type="text" id="galleryName" name="galleryName" required placeholder="e.g., Johnson Wedding">
                            </div>
                            <div class="form-group">
                                <label for="clientEmail">Client Email*</label>
                                <input type="email" id="clientEmail" name="clientEmail" required placeholder="client@example.com">
                            </div>
                            <div class="form-row">
                                <div class="form-group half">
                                    <label for="maxSelections">Maximum Selections</label>
                                    <input type="number" id="maxSelections" name="maxSelections" min="1" value="50">
                                </div>
                                <div class="form-group half">
                                    <label for="expiryDate">Selection Deadline</label>
                                    <input type="date" id="galleryExpiryDate" name="expiryDate">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="galleryPassword">Password Protection (Optional)</label>
                                <input type="text" id="galleryPassword" name="galleryPassword" placeholder="Leave blank for no password">
                            </div>
                            <div class="form-group">
                                <label>Upload Photos</label>
                                <div class="upload-zone" id="uploadZone">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <p>Drag & drop photos here or</p>
                                    <button type="button" class="browse-btn" id="browseFilesBtn">Browse Files</button>
                                    <input type="file" id="fileInput" multiple accept="image/*" style="display: none;">
                                    <p class="upload-note">Maximum 50 photos for initial upload. You can add more later.</p>
                                </div>
                                <div id="uploadPreview" class="upload-preview">
                                </div>
                                <div id="uploadProgress" class="upload-progress" style="display: none;">
                                    <div class="progress-info">
                                        <span id="uploadStatus">Uploading...</span>
                                        <span id="uploadPercentage">0%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress" id="uploadProgressBar" style="width: 0%"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="button" class="btn secondary" id="cancelCreateBtn">Cancel</button>
                                <button type="submit" class="btn primary" id="submitCreateBtn">Create Gallery</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            -->

            <!-- Help Modal -->
            <!-- Not needed for Razorpay testing, commenting out -->
            <!--
            <div id="helpModal" class="modal">
                <div class="modal-content help-content">
                    <div class="modal-header">
                        <h2>Dashboard Help</h2>
                        <button class="close-modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="help-tabs">
                            <button class="help-tab active" data-tab="galleries">Galleries</button>
                            <button class="help-tab" data-tab="uploads">Uploading</button>
                            <button class="help-tab" data-tab="sharing">Client Sharing</button>
                            <button class="help-tab" data-tab="selections">Selections</button>
                        </div>
                        <div class="help-content">
                            <div class="help-panel active" id="galleries-help">
                                <h3>Managing Your Galleries</h3>
                                <p>Galleries are collections of photos you share with clients for selection. Each gallery can have its own settings and sharing options.</p>
                                <div class="help-steps">
                                    <div class="help-step">
                                        <div class="step-number">1</div>
                                        <div class="step-content">
                                            <h4>Create a Gallery</h4>
                                            <p>Click the "New Gallery" button to create a new client gallery.</p>
                                        </div>
                                    </div>
                                    <div class="help-step">
                                        <div class="step-number">2</div>
                                        <div class="step-content">
                                            <h4>Upload Photos</h4>
                                            <p>Add photos to your gallery using the upload feature.</p>
                                        </div>
                                    </div>
                                    <div class="help-step">
                                        <div class="step-number">3</div>
                                        <div class="step-content">
                                            <h4>Share with Clients</h4>
                                            <p>Generate a sharing link to send to your clients.</p>
                                        </div>
                                    </div>
                                    <div class="help-step">
                                        <div class="step-number">4</div>
                                        <div class="step-content">
                                            <h4>Monitor Selections</h4>
                                            <p>Track which photos your client has selected.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="help-panel" id="uploads-help" style="display: none;">
                                <h3>Uploading Photos</h3>
                                <p>You can upload photos to your galleries in several convenient ways.</p>
                                <div class="help-card">
                                    <h4><i class="fas fa-cloud-upload-alt"></i> Drag and Drop</h4>
                                    <p>Simply drag files from your computer and drop them onto the upload zone.</p>
                                </div>
                                <div class="help-card">
                                    <h4><i class="fas fa-folder-open"></i> Browse Files</h4>
                                    <p>Click the "Browse Files" button to select photos from your device.</p>
                                </div>
                                <div class="help-note">
                                    <p><strong>Note:</strong> Supported formats include JPG, PNG, and HEIF. Maximum file size depends on your current plan.</p>
                                </div>
                            </div>

                            <div class="help-panel" id="sharing-help" style="display: none;">
                                <h3>Sharing with Clients</h3>
                                <p>Make it easy for clients to view and select their favorite photos.</p>
                                <div class="help-card">
                                    <h4><i class="fas fa-link"></i> Sharing Links</h4>
                                    <p>Each gallery has a unique sharing link you can send to clients.</p>
                                </div>
                                <div class="help-card">
                                    <h4><i class="fas fa-shield-alt"></i> Password Protection</h4>
                                    <p>Add an optional password to control access to the gallery.</p>
                                </div>
                                <div class="help-card">
                                    <h4><i class="fas fa-clock"></i> Expiration Dates</h4>
                                    <p>Set a deadline for client selections to keep your workflow moving.</p>
                                </div>
                            </div>

                            <div class="help-panel" id="selections-help" style="display: none;">
                                <h3>Managing Selections</h3>
                                <p>Once clients have made their selections, you can easily download and process them.</p>
                                <div class="help-card">
                                    <h4><i class="fas fa-bell"></i> Selection Notifications</h4>
                                    <p>Receive notifications when clients make or complete their selections.</p>
                                </div>
                                <div class="help-card">
                                    <h4><i class="fas fa-download"></i> Downloading Selected Photos</h4>
                                    <p>Download all selected photos in a single batch for convenient editing.</p>
                                </div>
                                <div class="help-card">
                                    <h4><i class="fas fa-chart-bar"></i> Selection Statistics</h4>
                                    <p>View statistics about which photos are most popular with your clients.</p>
                                </div>
                            </div>
                        </div>
                        <div class="help-contact">
                            <p>Need more help? <a href="#" id="contactSupportBtn">Contact Support</a></p>
                        </div>
                    </div>
                </div>
            </div>
            -->

            <!-- Plan Upgrade Modal - KEEP THIS! It's essential for Razorpay testing -->
            <div id="upgradePlanModal" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Upgrade Your Plan</h2>
                        <button class="close-modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="plan-comparison">
                            <div class="plan-tabs">
                                <button class="plan-tab" data-plan="basic">Basic</button>
                                <button class="plan-tab" data-plan="pro">Pro</button>
                                <button class="plan-tab" data-plan="premium">Premium</button>
                            </div>
                            
                            <div id="planDetailsSection" class="current-vs-selected">
                                <div class="plan-column current">
                                    <h3>Current Plan</h3>
                                    <div class="plan-name" id="currentPlanDisplay">Free</div>
                                    <div class="plan-price" id="currentPlanPrice">₹0/month</div>
                                    <ul class="plan-features" id="currentPlanFeatures">
                                        <li>1 GB Storage</li>
                                        <li>3 Galleries</li>
                                        <li>50 Photos per gallery</li>
                                        <li>3-day client selection window</li>
                                    </ul>
                                </div>
                                <div class="plan-column selected">
                                    <h3>Selected Plan</h3>
                                    <div class="plan-name" id="selectedPlanName">Basic</div>
                                    <div class="plan-price" id="selectedPlanPrice">₹499</div>
                                    <ul class="plan-features" id="planFeaturesList">
                                        <li>15 GB Storage</li>
                                        <li>10 Galleries</li>
                                        <li>500 Photos per gallery</li>
                                        <li>30-day client selection window</li>
                                        <li>Advanced uploads</li>
                                        <li>Password protection</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="payment-section">
                                <!-- Payment success/error messages will be inserted here -->
                                <div class="payment-success alert-success" style="display: none;"></div>
                                <div class="payment-error alert-danger" style="display: none;"></div>
                                
                                <h3>Complete Your Upgrade</h3>
                                <p class="payment-info">Click the button below to proceed securely with Razorpay.</p>
                                
                                <form id="paymentForm">
                                    <div class="payment-options">
                                        <div class="payment-option">
                                            <img src="../assets/images/payment-methods.png" alt="Payment Methods" class="payment-logo">
                                            <div class="payment-description">
                                                <p>Secure payment via Razorpay</p>
                                                <div class="payment-methods">
                                                    <i class="fas fa-credit-card"></i>
                                                    <i class="fas fa-university"></i>
                                                    <i class="fab fa-cc-visa"></i>
                                                    <i class="fab fa-cc-mastercard"></i>
                                                    <i class="fab fa-google-pay"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-actions">
                                        <button type="button" class="btn secondary" id="cancelUpgradeBtn">Cancel</button>
                                        <button type="submit" class="btn primary" id="confirmUpgradeBtn">Upgrade Now</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer - Simplified version for dashboard -->
    <footer class="dashboard-footer">
        <div class="container">
            <div class="footer-bottom">
                <p class="copyright">&copy; 2025 SnapSelect. All rights reserved.</p>
                <div class="footer-links">
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Service</a>
                    <a href="#" id="footerHelpLink">Help Center</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Firebase Scripts - commenting out since we're using mocks -->
    <!-- 
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    
    <script src="../assets/js/firebase-config.js"></script>
    <script src="../assets/js/firebase-auth.js"></script>
    <script src="../assets/js/firebase-db.js"></script>
    <script src="../assets/js/firebase-storage.js"></script>
    -->
    
    <!-- Mock Firebase and authentication for development -->
    <script>
        // Simple mock to prevent authentication overlay from showing
        document.addEventListener('DOMContentLoaded', function() {
            // Hide auth overlay since we're just testing Razorpay
            const authOverlay = document.getElementById('authCheckOverlay');
            if (authOverlay) {
                authOverlay.style.display = 'none';
            }
            
            // Add user name for testing
            const userNameElement = document.getElementById('userName');
            if (userNameElement) {
                userNameElement.textContent = 'Test User';
            }
            
            // Store email in localStorage for Razorpay mock
            localStorage.setItem('userEmail', 'test.user@example.com');
            
            // Initialize Razorpay integration
            if (typeof initRazorpayIntegration === 'function') {
                initRazorpayIntegration();
            } else {
                console.error('Razorpay integration script not loaded properly');
            }
        });
    </script>
    
    <!-- Minimal Dashboard JavaScript for Razorpay testing -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Toggle user dropdown menu
            const userMenuBtn = document.getElementById('userMenuBtn');
            const userDropdown = document.getElementById('userDropdown');
            
            if (userMenuBtn && userDropdown) {
                userMenuBtn.addEventListener('click', function() {
                    userDropdown.classList.toggle('show');
                });
            }
            
            // Toggle notifications dropdown
            const notificationBtn = document.getElementById('notificationBtn');
            const notificationDropdown = document.getElementById('notificationDropdown');
            
            if (notificationBtn && notificationDropdown) {
                notificationBtn.addEventListener('click', function() {
                    notificationDropdown.classList.toggle('show');
                });
            }
            
            // Close dropdowns when clicking outside
            window.addEventListener('click', function(event) {
                if (userDropdown && userMenuBtn && !userMenuBtn.contains(event.target)) {
                    userDropdown.classList.remove('show');
                }
                
                if (notificationDropdown && notificationBtn && !notificationBtn.contains(event.target)) {
                    notificationDropdown.classList.remove('show');
                }
            });
            
            // Focus on Razorpay testing - make sure the upgrade button works
            const upgradePlanBtn = document.getElementById('upgradePlanBtn');
            const upgradePlanModal = document.getElementById('upgradePlanModal');
            const closeModalBtn = document.querySelector('#upgradePlanModal .close-modal');
            
            if (upgradePlanBtn && upgradePlanModal) {
                upgradePlanBtn.addEventListener('click', function() {
                    upgradePlanModal.style.display = 'block';
                    
                    // Select default plan (Basic)
                    const basicPlanTab = document.querySelector('.plan-tab[data-plan="basic"]');
                    if (basicPlanTab) {
                        basicPlanTab.click();
                    }
                });
            }
            
            if (closeModalBtn && upgradePlanModal) {
                closeModalBtn.addEventListener('click', function() {
                    upgradePlanModal.style.display = 'none';
                });
            }
        });
    </script>
    
    <!-- The only JS we really need is the Razorpay mock implementation -->
    <!-- Other scripts are commented out as they're not needed for testing the payment flow -->
    <!--
    <script src="../assets/js/dashboard.js"></script>
    <script src="../assets/js/dashboard-auth.js"></script>
    <script src="../assets/js/gallery-manager.js"></script>
    <script src="../assets/js/uploader.js"></script>
    <script src="../assets/js/notifications.js"></script>
    <script src="../assets/js/subscription-manager.js"></script>
    <script src="../assets/js/security-manager.js"></script>
    <script src="../assets/js/gallery-template-manager.js"></script>
    <script src="../assets/js/analytics-manager.js"></script>
    -->
</body>
</html>
